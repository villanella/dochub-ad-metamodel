# Бланк архитектурного решения
# Not imported because of attr duplicates
entities:
  seaf.change.adr:
    presentations:
      list:
        title: ADR Card
        type: table
        headers:
          - value: id
            text: ID
            sortable: true
            align: left
            width: 5%
            link: link
          - value: moment
            text: Дата
            sortable: true
            align: left
            width: 5%
          - value: title
            text: Название
            sortable: true
            align: left
            width: 10%
          - value: status
            text: Статус
            sortable: true
            align: left
            width: 5%
          - value: story
            text: Tracker
            sortable: true
            align: left
            width: 5%
        source: >
          (
              $."seaf.change.adr".$spread().(
                  $id := $keys()[0];
                  {
                      "id": $id,
                      "status": *.status,
                      "moment": *.moment,
                      "story": *.story,
                      "story_link": "[story](https://tracker.yandex.ru" & $story & "/)",
                      "link": "/entities/seaf.change.adr/blank?seaf-adr-id=" & $id,
                      "title": *.title,
                      "sort": $toMillis(*.moment)
                  }
              )^(sort);
          )